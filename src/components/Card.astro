---
import { cn } from '@/utils'

const { as: Tag = 'div', class: className, href, heading, subheading, date, backgroundImage } = Astro.props
---

<Tag
  class={cn(
    className,
    'relative rounded-2xl border border-border bg-primary-foreground px-5 py-3',
    href && 'transition-all hover:border-foreground/25 hover:shadow-sm'
  )}
  href={href}
>
  <div class='flex flex-col gap-y-1.5 relative z-10'>
    <div class='flex flex-col gap-y-0.5'>
      <h2 class='text-lg font-medium'>{heading}</h2>
      <p class='text-muted-foreground'>{subheading}</p>
      <p class='text-muted-foreground'>{date}</p>
    </div>
    <slot />
  </div>
  {typeof backgroundImage === 'string' && (
    <img
      class='absolute end-0 top-0 z-0 m-0 h-full w-1/2 object-cover opacity-40'
      src={backgroundImage}
      alt=''
    />
  )}
</Tag>